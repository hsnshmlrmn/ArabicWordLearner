<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Arabic Flashcards Quiz - Lesson 1</title>
  <style>
    body { font-family: sans-serif; background: #f9f9f9; color: #222; display: flex; flex-direction: column; align-items: center; }
    .quiz-container { background: #fff; padding: 2rem; border-radius: 10px; margin-top: 2rem; box-shadow: 0 4px 12px #0001; min-width: 320px; }
    .input-area { margin: 1.5rem 0; }
    .result { font-weight: bold; margin: 1rem 0; }
    button { padding: 0.5rem 1rem; font-size: 1rem; border-radius: 5px; border: none; background: #3c8dbc; color: #fff; cursor: pointer; }
    button:disabled { background: #bbb; }
    .score { margin: 1rem 0; font-size: 1.1rem; }
    .next-btn { margin-left: 1rem; }
    .answer-show { font-size: 1.2rem; margin: 0.8rem 0 0.3rem 0; }
    .icon { font-size: 1.3em; vertical-align: middle; margin-left: 0.4em; }
    table.vocab { margin-top: 1em; margin-bottom: 2em; border-collapse: collapse; }
    table.vocab th, table.vocab td { border: 1px solid #ddd; padding: 0.3em 0.7em; font-size: 1rem; text-align: center; }
    table.vocab th { background: #f0f0f0; }
    #start-quiz-btn { margin-top: 1.5em; font-size: 1.1em; }
  </style>
</head>
<body>
  <h1>Arabic Flashcards Quiz - Lesson 1</h1>

  <div class="quiz-container" id="vocab-list">
    <div class="section-title">ğŸ—’ï¸ Vocabulary List</div>
    <table class="vocab">
      <tr>
        <th>Arabic</th>
        <th>English</th>
        <th>Transliteration</th>
        <th>Icon</th>
      </tr>
      <tr><td>Ø¨ÙÙŠÙ’Øª</td><td>house</td><td>bayt</td><td>ğŸ </td></tr>
      <tr><td>Ù‚ÙÙ„ÙÙ…</td><td>pen</td><td>qalam</td><td>ğŸ–Šï¸</td></tr>
      <tr><td>Ù…ÙØ³Ù’Ø¬ÙØ¯</td><td>masjid</td><td>masjid</td><td>ğŸ•Œ</td></tr>
      <tr><td>Ù…ÙÙÙ’ØªÙØ§Ø­</td><td>key</td><td>miftaah</td><td>ğŸ—ï¸</td></tr>
      <tr><td>Ø¨ÙØ§Ø¨</td><td>door</td><td>baab</td><td>ğŸšª</td></tr>
      <tr><td>Ù…ÙÙƒÙ’ØªÙØ¨</td><td>desk</td><td>maktab</td><td>ğŸª‘</td></tr>
      <tr><td>ÙƒÙØªÙØ§Ø¨</td><td>book</td><td>kitaab</td><td>ğŸ“–</td></tr>
      <tr><td>Ø³ÙØ±ÙÙŠØ±</td><td>bed</td><td>sareer</td><td>ğŸ›ï¸</td></tr>
      <tr><td>Ø¯ÙÙÙ’ØªÙØ±</td><td>notebook</td><td>daftar</td><td>ğŸ““</td></tr>
      <tr><td>ÙƒÙØ±Ù’Ø³ÙÙŠ</td><td>chair</td><td>kursi</td><td>ğŸª‘</td></tr>
      <tr><td>Ù†ÙØ¬Ù’Ù…</td><td>star</td><td>najm</td><td>â­</td></tr>
      <tr><td>Ù‚ÙÙ…ÙÙŠØµ</td><td>shirt</td><td>qamees</td><td>ğŸ‘•</td></tr>
      <tr><td>Ù…ÙØ§</td><td>what</td><td>maa</td><td>â“</td></tr>
      <tr><td>Ù‡ÙØ°ÙØ§</td><td>this</td><td>haadhaa</td><td>ğŸ‘‰</td></tr>
      <tr><td>ÙˆÙ</td><td>and</td><td>wa</td><td>â•</td></tr>
      <tr><td>Ù†ÙØ¹ÙÙ…</td><td>yes</td><td>naâ€˜am</td><td>âœ…</td></tr>
      <tr><td>Ù„ÙØ§</td><td>no</td><td>laa</td><td>âŒ</td></tr>
    </table>
    <button id="start-quiz-btn">Start Quiz</button>
  </div>

  <div class="quiz-container" id="quiz-section" style="display:none;">
    <div id="section-title-quiz1" class="section-title">1ï¸âƒ£ Vocabulary Quiz</div>
    <div id="question">
      <div class="answer-show" id="arabic-word"></div>
    </div>
    <form id="answer-form" autocomplete="off">
      <div class="input-area">
        <input type="text" id="user-answer" placeholder="Type English here..." style="font-size:1.1rem; width: 80%;" autofocus>
      </div>
      <button type="submit">Check</button>
      <button type="button" class="next-btn" id="next-btn" style="display:none;">Next</button>
    </form>
    <div class="result" id="result"></div>
    <div class="answer-show" id="correct-answer"></div>
    <div class="score" id="score"></div>
  </div>

  <div class="quiz-container" id="quiz-section-2" style="display:none;">
    <div id="section-title-quiz2" class="section-title">2ï¸âƒ£ What is this? / Ù…ÙØ§ Ù‡ÙØ°ÙØ§ØŸ Quiz</div>
    <div id="question-2">
      <div class="answer-show" id="what-arabic-question"></div>
    </div>
    <form id="answer-form-2" autocomplete="off">
      <div class="input-area">
        <input type="text" id="user-answer-2" placeholder="Type English here..." style="font-size:1.1rem; width: 80%;" autofocus>
      </div>
      <button type="submit">Check</button>
      <button type="button" class="next-btn" id="next-btn-2" style="display:none;">Next</button>
    </form>
    <div class="result" id="result-2"></div>
    <div class="answer-show" id="correct-answer-2"></div>
    <div class="score" id="score-2"></div>
  </div>

  <div class="quiz-container" id="quiz-section-3" style="display:none;">
    <div id="section-title-quiz3" class="section-title">3ï¸âƒ£ True or False (Yes/No in Arabic)</div>
    <div id="question-3">
      <div class="icon" id="tf-icon"></div>
      <span class="answer-show" id="tf-arabic-sentence"></span>
    </div>
    <form id="answer-form-3" autocomplete="off">
      <div class="input-area">
        <input type="text" id="user-answer-3" placeholder="Type Ù†ÙØ¹ÙÙ… (yes) or Ù„ÙØ§ (no) here..." style="font-size:1.1rem; width: 80%;" autofocus>
      </div>
      <button type="submit">Check</button>
      <button type="button" class="next-btn" id="next-btn-3" style="display:none;">Next</button>
    </form>
    <div class="result" id="result-3"></div>
    <div class="answer-show" id="correct-answer-3"></div>
    <div class="score" id="score-3"></div>
  </div>

  <script>
    // Vocabulary Data
    const vocab = [
      {arabic: "Ø¨ÙÙŠÙ’Øª", english: "house", icon: "ğŸ "},
      {arabic: "Ù‚ÙÙ„ÙÙ…", english: "pen", icon: "ğŸ–Šï¸"},
      {arabic: "Ù…ÙØ³Ù’Ø¬ÙØ¯", english: "masjid", icon: "ğŸ•Œ"},
      {arabic: "Ù…ÙÙÙ’ØªÙØ§Ø­", english: "key", icon: "ğŸ—ï¸"},
      {arabic: "Ø¨ÙØ§Ø¨", english: "door", icon: "ğŸšª"},
      {arabic: "Ù…ÙÙƒÙ’ØªÙØ¨", english: "desk", icon: "ğŸª‘"},
      {arabic: "ÙƒÙØªÙØ§Ø¨", english: "book", icon: "ğŸ“–"},
      {arabic: "Ø³ÙØ±ÙÙŠØ±", english: "bed", icon: "ğŸ›ï¸"},
      {arabic: "Ø¯ÙÙÙ’ØªÙØ±", english: "notebook", icon: "ğŸ““"},
      {arabic: "ÙƒÙØ±Ù’Ø³ÙÙŠ", english: "chair", icon: "ğŸª‘"},
      {arabic: "Ù†ÙØ¬Ù’Ù…", english: "star", icon: "â­"},
      {arabic: "Ù‚ÙÙ…ÙÙŠØµ", english: "shirt", icon: "ğŸ‘•"},
      {arabic: "Ù…ÙØ§", english: "what", icon: "â“"},
      {arabic: "Ù‡ÙØ°ÙØ§", english: "this", icon: "ğŸ‘‰"},
      {arabic: "ÙˆÙ", english: "and", icon: "â•"},
      {arabic: "Ù†ÙØ¹ÙÙ…", english: "yes", icon: "âœ…"},
      {arabic: "Ù„ÙØ§", english: "no", icon: "âŒ"}
    ];

    // Quiz 1: Vocab quiz (all)
    const quiz = [...vocab];

    // Quiz 2: "What is this?" for first 12 vocab
    const whatQuiz = vocab.slice(0, 12).map(item => ({
      arabic: `Ù…ÙØ§ Ù‡ÙØ°ÙØ§ØŸ (${item.arabic})`,
      english: item.english,
      icon: item.icon,
    }));

    // Quiz 3: True/False questions (Arabic sentences, yes/no as answer)
    // Mix of true (yes) and false (no) for first 12 vocab
    // Half of them true, half of them false, randomize
    const tfStatements = [
      // True statements
      {sentence: "Ù‡ÙØ°ÙØ§ Ø¨ÙÙŠÙ’Øª.", correct: "Ù†ÙØ¹ÙÙ…", icon: "ğŸ "},
      {sentence: "Ù‡ÙØ°ÙØ§ Ù‚ÙÙ„ÙÙ….", correct: "Ù†ÙØ¹ÙÙ…", icon: "ğŸ–Šï¸"},
      {sentence: "Ù‡ÙØ°ÙØ§ Ù…ÙØ³Ù’Ø¬ÙØ¯.", correct: "Ù†ÙØ¹ÙÙ…", icon: "ğŸ•Œ"},
      {sentence: "Ù‡ÙØ°ÙØ§ Ù…ÙÙÙ’ØªÙØ§Ø­.", correct: "Ù†ÙØ¹ÙÙ…", icon: "ğŸ—ï¸"},
      {sentence: "Ù‡ÙØ°ÙØ§ Ø¨ÙØ§Ø¨.", correct: "Ù†ÙØ¹ÙÙ…", icon: "ğŸšª"},
      {sentence: "Ù‡ÙØ°ÙØ§ Ù…ÙÙƒÙ’ØªÙØ¨.", correct: "Ù†ÙØ¹ÙÙ…", icon: "ğŸª‘"},
      // False statements (wrong vocab with icon)
      {sentence: "Ù‡ÙØ°ÙØ§ Ù‚ÙÙ„ÙÙ….", correct: "Ù„ÙØ§", icon: "ğŸ "}, // Not a pen, but house icon
      {sentence: "Ù‡ÙØ°ÙØ§ ÙƒÙØªÙØ§Ø¨.", correct: "Ù„ÙØ§", icon: "ğŸ›ï¸"}, // Not a book, but bed icon
      {sentence: "Ù‡ÙØ°ÙØ§ Ø¨ÙÙŠÙ’Øª.", correct: "Ù„ÙØ§", icon: "ğŸ–Šï¸"}, // Not a house, but pen icon
      {sentence: "Ù‡ÙØ°ÙØ§ Ø¯ÙÙÙ’ØªÙØ±.", correct: "Ù„ÙØ§", icon: "â­"}, // Not a notebook, but star icon
      {sentence: "Ù‡ÙØ°ÙØ§ ÙƒÙØ±Ù’Ø³ÙÙŠ.", correct: "Ù„ÙØ§", icon: "ğŸ“–"}, // Not a chair, but book icon
      {sentence: "Ù‡ÙØ°ÙØ§ Ù‚ÙÙ…ÙÙŠØµ.", correct: "Ù„ÙØ§", icon: "ğŸª‘"}  // Not a shirt, but desk icon
    ];

    // Shuffle function
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    shuffle(quiz);
    shuffle(whatQuiz);
    shuffle(tfStatements);

    // Quiz 1 logic
    let current = 0;
    let score = 0;

    function showQuestion() {
      document.getElementById('user-answer').value = "";
      document.getElementById('result').textContent = "";
      document.getElementById('correct-answer').textContent = "";
      document.getElementById('next-btn').style.display = "none";
      const q = quiz[current];
      document.getElementById('arabic-word').textContent = q.arabic;
      document.getElementById('score').textContent = `Question ${current + 1} of ${quiz.length} | Score: ${score}`;
      document.getElementById('user-answer').disabled = false;
      document.getElementById('user-answer').focus();
    }

    function checkAnswer(e) {
      e.preventDefault();
      const userAns = document.getElementById('user-answer').value.trim().toLowerCase();
      const q = quiz[current];
      const correct = q.english.toLowerCase();
      let resultText = "";
      if (!userAns) {
        resultText = "Please enter your answer!";
        document.getElementById('result').textContent = resultText;
        return;
      } else if (userAns === correct) {
        resultText = "âœ… Correct!";
        score++;
      } else {
        resultText = `âŒ Incorrect!`;
      }
      document.getElementById('result').textContent = resultText;
      document.getElementById('correct-answer').innerHTML = `Answer: ${q.english} <span class="icon">${q.icon}</span>`;
      document.getElementById('next-btn').style.display = "inline-block";
      document.getElementById('user-answer').disabled = true;
    }

    function nextQuestion() {
      current++;
      if (current < quiz.length) {
        showQuestion();
      } else {
        document.getElementById('quiz-section').style.display = "none";
        startWhatQuiz();
      }
    }

    document.getElementById('answer-form').onsubmit = checkAnswer;
    document.getElementById('next-btn').onclick = nextQuestion;

    // Quiz 2 logic ("What is this?")
    let current2 = 0;
    let score2 = 0;
    function showWhatQuestion() {
      document.getElementById('user-answer-2').value = "";
      document.getElementById('result-2').textContent = "";
      document.getElementById('correct-answer-2').textContent = "";
      document.getElementById('next-btn-2').style.display = "none";
      const q = whatQuiz[current2];
      document.getElementById('what-arabic-question').textContent = q.arabic;
      document.getElementById('score-2').textContent = `Question ${current2 + 1} of ${whatQuiz.length} | Score: ${score2}`;
      document.getElementById('user-answer-2').disabled = false;
      document.getElementById('user-answer-2').focus();
    }

    function checkAnswer2(e) {
      e.preventDefault();
      const userAns = document.getElementById('user-answer-2').value.trim().toLowerCase();
      const q = whatQuiz[current2];
      const correct = q.english.toLowerCase();
      let resultText = "";
      if (!userAns) {
        resultText = "Please enter your answer!";
        document.getElementById('result-2').textContent = resultText;
        return;
      } else if (userAns === correct) {
        resultText = "âœ… Correct!";
        score2++;
      } else {
        resultText = `âŒ Incorrect!`;
      }
      document.getElementById('result-2').textContent = resultText;
      document.getElementById('correct-answer-2').innerHTML = `Answer: ${q.english} <span class="icon">${q.icon}</span>`;
      document.getElementById('next-btn-2').style.display = "inline-block";
      document.getElementById('user-answer-2').disabled = true;
    }

    function nextQuestion2() {
      current2++;
      if (current2 < whatQuiz.length) {
        showWhatQuestion();
      } else {
        document.getElementById('quiz-section-2').style.display = "none";
        startTFQuiz();
      }
    }

    document.getElementById('answer-form-2').onsubmit = checkAnswer2;
    document.getElementById('next-btn-2').onclick = nextQuestion2;

    // Quiz 3 logic (True/False)
    let current3 = 0;
    let score3 = 0;

    function showTFQuestion() {
      document.getElementById('user-answer-3').value = "";
      document.getElementById('result-3').textContent = "";
      document.getElementById('correct-answer-3').textContent = "";
      document.getElementById('next-btn-3').style.display = "none";
      const q = tfStatements[current3];
      document.getElementById('tf-arabic-sentence').textContent = q.sentence;
      document.getElementById('tf-icon').textContent = q.icon;
      document.getElementById('score-3').textContent = `Question ${current3 + 1} of ${tfStatements.length} | Score: ${score3}`;
      document.getElementById('user-answer-3').disabled = false;
      document.getElementById('user-answer-3').focus();
    }

    function checkTFAnswer(e) {
      e.preventDefault();
      const userAns = document.getElementById('user-answer-3').value.trim();
      const q = tfStatements[current3];
      const correct = q.correct;
      let resultText = "";
      // Accept slight variations (with/without diacritics, etc.)
      function normalize(s) {
        return s.replace(/\s/g, "").replace(/[\u064B-\u0652]/g, "").toLowerCase();
      }
      if (!userAns) {
        resultText = "Please enter your answer!";
        document.getElementById('result-3').textContent = resultText;
        return;
      } else if (normalize(userAns) === normalize(correct)) {
        resultText = "âœ… Correct!";
        score3++;
      } else {
        resultText = `âŒ Incorrect!`;
      }
      document.getElementById('result-3').textContent = resultText;
      document.getElementById('correct-answer-3').innerHTML = `Answer: ${q.correct} <span class="icon">${q.icon}</span>`;
      document.getElementById('next-btn-3').style.display = "inline-block";
      document.getElementById('user-answer-3').disabled = true;
    }

    function nextQuestion3() {
      current3++;
      if (current3 < tfStatements.length) {
        showTFQuestion();
      } else {
        document.getElementById('quiz-section-3').innerHTML = `<div style='font-size:1.2rem'>Quiz Complete!</div>
          <div class="result">Your score: ${score3} / ${tfStatements.length}</div>`;
      }
    }

    document.getElementById('answer-form-3').onsubmit = checkTFAnswer;
    document.getElementById('next-btn-3').onclick = nextQuestion3;

    function startWhatQuiz() {
      document.getElementById('quiz-section-2').style.display = "";
      showWhatQuestion();
    }

    function startTFQuiz() {
      document.getElementById('quiz-section-3').style.display = "";
      showTFQuestion();
    }

    // Show vocab list, hide quiz until started
    document.getElementById('start-quiz-btn').onclick = function() {
      document.getElementById('vocab-list').style.display = 'none';
      document.getElementById('quiz-section').style.display = '';
      showQuestion();
    };

    // Start with vocab list only
    document.getElementById('quiz-section').style.display = 'none';
    document.getElementById('quiz-section-2').style.display = 'none';
    document.getElementById('quiz-section-3').style.display = 'none';
  </script>
</body>
</html>